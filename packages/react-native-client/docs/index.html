<!doctype html>
<html class="default" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="IE=edge" />
    <title>react-native-whip-whep</title>
    <meta
      name="description"
      content="Documentation for react-native-whip-whep"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="assets/style.css" />
    <link rel="stylesheet" href="assets/highlight.css" />
    <script defer src="assets/main.js"></script>
    <script async src="assets/icons.js" id="tsd-icons-script"></script>
    <script async src="assets/search.js" id="tsd-search-script"></script>
    <script async src="assets/navigation.js" id="tsd-nav-script"></script>
  </head>
  <body>
    <script>
      document.documentElement.dataset.theme =
        localStorage.getItem("tsd-theme") || "os";
      document.body.style.display = "none";
      setTimeout(
        () =>
          app ? app.showPage() : document.body.style.removeProperty("display"),
        500,
      );
    </script>
    <header class="tsd-page-toolbar">
      <div class="tsd-toolbar-contents container">
        <div class="table-cell" id="tsd-search" data-base=".">
          <div class="field">
            <label
              for="tsd-search-field"
              class="tsd-widget tsd-toolbar-icon search no-caption"
              ><svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <use href="assets/icons.svg#icon-search"></use></svg></label
            ><input type="text" id="tsd-search-field" aria-label="Search" />
          </div>
          <div class="field"><div id="tsd-toolbar-links"></div></div>
          <ul class="results">
            <li class="state loading">Preparing search index...</li>
            <li class="state failure">The search index is not available</li>
          </ul>
          <a href="index.html" class="title">react-native-whip-whep</a>
        </div>
        <div class="table-cell" id="tsd-widgets">
          <a
            href="#"
            class="tsd-widget tsd-toolbar-icon menu no-caption"
            data-toggle="menu"
            aria-label="Menu"
            ><svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <use href="assets/icons.svg#icon-menu"></use></svg
          ></a>
        </div>
      </div>
    </header>
    <div class="container container-main">
      <div class="col-content">
        <div class="tsd-page-title"><h2>react-native-whip-whep</h2></div>
        <div class="tsd-panel tsd-typography">
          <a id="md:react-native-whip-whep" class="tsd-anchor"></a>
          <h1 class="tsd-anchor-link">
            react-native-whip-whep<a
              href="#md:react-native-whip-whep"
              aria-label="Permalink"
              class="tsd-anchor-icon"
              ><svg viewBox="0 0 24 24">
                <use href="assets/icons.svg#icon-anchor"></use></svg
            ></a>
          </h1>
          <p>
            An implementation of WHIP and WHEP protocols for React Native.
            Provides basic methods for establishing a connection in order to
            stream or receive media.
          </p>
          <p>
            This repository is an expo module that makes use of native Android
            and iOS packages and allows to use them in a React Native App with
            the code provided in
            <code>src/ReactNativeMobileWhepClientModule.ts</code> and the
            exports in <code>src/index.ts</code>. It also provides two simple
            native views - <code>WhepClientView</code> and
            <code>WhipClientView</code> to show the stream or camera preview.
          </p>
          <a id="md:setup" class="tsd-anchor"></a>
          <h2 class="tsd-anchor-link">
            Setup<a
              href="#md:setup"
              aria-label="Permalink"
              class="tsd-anchor-icon"
              ><svg viewBox="0 0 24 24">
                <use href="assets/icons.svg#icon-anchor"></use></svg
            ></a>
          </h2>
          <pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> --</span><span class="hl-0">save</span><span class="hl-1"> </span><span class="hl-0">react</span><span class="hl-1">-</span><span class="hl-0">native</span><span class="hl-1">-</span><span class="hl-0">whip</span><span class="hl-1">-</span><span class="hl-0">whep</span><br/><span class="hl-1"># --- </span><span class="hl-0">or</span><span class="hl-1"> ---</span><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> </span><span class="hl-0">react</span><span class="hl-1">-</span><span class="hl-0">native</span><span class="hl-1">-</span><span class="hl-0">whip</span><span class="hl-1">-</span><span class="hl-0">whep</span>
</code><button>Copy</button></pre>

          <p>
            It is necessary to configure app permissions in order to stream a
            preview from the camera or sound:
          </p>
          <a id="md:android" class="tsd-anchor"></a>
          <h3 class="tsd-anchor-link">
            Android<a
              href="#md:android"
              aria-label="Permalink"
              class="tsd-anchor-icon"
              ><svg viewBox="0 0 24 24">
                <use href="assets/icons.svg#icon-anchor"></use></svg
            ></a>
          </h3>
          <p>
            Modify <code>app.json</code> file to request necessary permissions:
          </p>
          <pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;expo&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">...</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;android&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-3">...</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;permissions&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;android.permission.CAMERA&quot;</span><span class="hl-3">,</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;android.permission.RECORD_AUDIO&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

          <a id="md:ios" class="tsd-anchor"></a>
          <h3 class="tsd-anchor-link">
            iOS<a href="#md:ios" aria-label="Permalink" class="tsd-anchor-icon"
              ><svg viewBox="0 0 24 24">
                <use href="assets/icons.svg#icon-anchor"></use></svg
            ></a>
          </h3>
          <p>Add the following lines to <code>app.json</code>:</p>
          <pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;expo&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">...</span><br/><span class="hl-1">   </span><span class="hl-2">&quot;ios&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-3">...</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;infoPlist&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;NSCameraUsageDescription&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;This application requires camera access to gather information about available video devices.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;NSMicrophoneUsageDescription&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;This application requires microphone access to gather information about available audio devices.&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

          <a id="md:usage" class="tsd-anchor"></a>
          <h2 class="tsd-anchor-link">
            Usage<a
              href="#md:usage"
              aria-label="Permalink"
              class="tsd-anchor-icon"
              ><svg viewBox="0 0 24 24">
                <use href="assets/icons.svg#icon-anchor"></use></svg
            ></a>
          </h2>
          <p>
            In order to use the package functionalities and run the example app,
            a WHIP/WHEP server is necessary. It is recommended to use the
            <a
              href="https://github.com/elixir-webrtc/ex_webrtc/tree/9e1888185211c8da7128db7309584af8e863fafa/examples/whip_whep"
              target="_blank"
              class="external"
              >WHIP/WHEP server</a
            >
            provided by <code>elixir-webrtc</code>, as it was utilized during
            the development.
          </p>
          <a id="md:examples" class="tsd-anchor"></a>
          <h2 class="tsd-anchor-link">
            Examples<a
              href="#md:examples"
              aria-label="Permalink"
              class="tsd-anchor-icon"
              ><svg viewBox="0 0 24 24">
                <use href="assets/icons.svg#icon-anchor"></use></svg
            ></a>
          </h2>
          <p>
            The <code>examples/react-native</code> folder provides an example
            app that allows to stream media using phone's default video and
            audio devices and receive remote stream.
          </p>
          <p>
            To create a WHEP client able to receive media stream use the
            following code. It requires a server URL and takes optional
            parameters, such as <code>authToken</code>,
            <code>audioEnabled</code>, <code>videoEnabled</code> (both of which
            defaults to true), <code>stunServerUrl</code> and
            <code>videoParameters</code>:
          </p>
          <pre><code class="typescript"><span class="hl-5">createWhepClient</span><span class="hl-1">(&lt;</span><span class="hl-6">WHEP_SERVER_URL</span><span class="hl-1">&gt;, {</span><br/><span class="hl-1">  </span><span class="hl-0">authToken:</span><span class="hl-1"> </span><span class="hl-4">&quot;example&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

          <p>To receive a stream, simply connect the client to the server:</p>
          <pre><code class="typescript"><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-5">connectWhepClient</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

          <p>
            After the stream is finished, it is recommended to disconnect the
            client to free the resources:
          </p>
          <pre><code class="typescript"><span class="hl-5">disconnectWhepClient</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

          <p>
            The process of creating a WHIP client is similar to the WHEP one,
            but the function takes one more parameter: a
            <code>videoDevice</code> that will be used to stream the video to
            the server. <code>react-native-whip-whep</code> shares a property to
            obtain all available video devices:
          </p>
          <pre><code class="typescript"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-0">cameras</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-4">&quot;react-native-whip-whep&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-8">const</span><span class="hl-1"> </span><span class="hl-9">availableDevices</span><span class="hl-1"> = </span><span class="hl-0">cameras</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

          <pre><code class="typescript"><span class="hl-5">createWhipClient</span><span class="hl-1">(</span><br/><span class="hl-1">  &lt;</span><span class="hl-6">WHIP_SERVER_URL</span><span class="hl-1">&gt;,</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-0">authToken:</span><span class="hl-1"> </span><span class="hl-4">&quot;example&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-0">availableDevices</span><span class="hl-1">[</span><span class="hl-10">0</span><span class="hl-1">].</span><span class="hl-0">id</span><span class="hl-1">,</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

          <p>
            The connection and disconnection process is comparable to the WHEP
            one:
          </p>
          <pre><code class="typescript"><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-5">connectWhipClient</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

          <pre><code class="typescript"><span class="hl-5">disconnectWhipClient</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

          <a id="md:license" class="tsd-anchor"></a>
          <h2 class="tsd-anchor-link">
            License<a
              href="#md:license"
              aria-label="Permalink"
              class="tsd-anchor-icon"
              ><svg viewBox="0 0 24 24">
                <use href="assets/icons.svg#icon-anchor"></use></svg
            ></a>
          </h2>
          <p>Licensed under the <a href="media/LICENSE">MIT License</a></p>
          <a
            id="md:react-native-whip-whep-is-created-by-software-mansion"
            class="tsd-anchor"
          ></a>
          <h2 class="tsd-anchor-link">
            React Native Whip Whep is created by Software Mansion<a
              href="#md:react-native-whip-whep-is-created-by-software-mansion"
              aria-label="Permalink"
              class="tsd-anchor-icon"
              ><svg viewBox="0 0 24 24">
                <use href="assets/icons.svg#icon-anchor"></use></svg
            ></a>
          </h2>
          <p>
            Since 2012
            <a href="https://swmansion.com" target="_blank" class="external"
              >Software Mansion</a
            >
            is a software agency with experience in building web and mobile
            apps. We are Core React Native Contributors and experts in dealing
            with all kinds of React Native issues. We can help you build your
            next dream product –
            <a
              href="https://swmansion.com/contact/projects?utm_source=whip-whep-client&amp;utm_medium=mobile-readme"
              target="_blank"
              class="external"
              >Hire us</a
            >.
          </p>
          <p>
            <a
              href="https://swmansion.com/contact/projects?utm_source=whip-whep-client&amp;utm_medium=mobile-readme"
              target="_blank"
              class="external"
              ><img
                src="https://logo.swmansion.com/logo?color=white&amp;variant=desktop&amp;width=200&amp;tag=react-client"
                alt="Software Mansion"
            /></a>
          </p>
        </div>
      </div>
      <div class="col-sidebar">
        <div class="page-menu">
          <div class="tsd-navigation settings">
            <details class="tsd-accordion">
              <summary class="tsd-accordion-summary">
                <h3>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <use href="assets/icons.svg#icon-chevronDown"></use></svg
                  >Settings
                </h3>
              </summary>
              <div class="tsd-accordion-details">
                <div class="tsd-filter-visibility">
                  <span class="settings-label">Member Visibility</span>
                  <ul id="tsd-filter-options">
                    <li class="tsd-filter-item">
                      <label class="tsd-filter-input"
                        ><input
                          type="checkbox"
                          id="tsd-filter-protected"
                          name="protected"
                        /><svg
                          width="32"
                          height="32"
                          viewBox="0 0 32 32"
                          aria-hidden="true"
                        >
                          <rect
                            class="tsd-checkbox-background"
                            width="30"
                            height="30"
                            x="1"
                            y="1"
                            rx="6"
                            fill="none"
                          ></rect>
                          <path
                            class="tsd-checkbox-checkmark"
                            d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25"
                            stroke="none"
                            stroke-width="3.5"
                            stroke-linejoin="round"
                            fill="none"
                          ></path></svg
                        ><span>Protected</span></label
                      >
                    </li>
                    <li class="tsd-filter-item">
                      <label class="tsd-filter-input"
                        ><input
                          type="checkbox"
                          id="tsd-filter-inherited"
                          name="inherited"
                          checked
                        /><svg
                          width="32"
                          height="32"
                          viewBox="0 0 32 32"
                          aria-hidden="true"
                        >
                          <rect
                            class="tsd-checkbox-background"
                            width="30"
                            height="30"
                            x="1"
                            y="1"
                            rx="6"
                            fill="none"
                          ></rect>
                          <path
                            class="tsd-checkbox-checkmark"
                            d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25"
                            stroke="none"
                            stroke-width="3.5"
                            stroke-linejoin="round"
                            fill="none"
                          ></path></svg
                        ><span>Inherited</span></label
                      >
                    </li>
                    <li class="tsd-filter-item">
                      <label class="tsd-filter-input"
                        ><input
                          type="checkbox"
                          id="tsd-filter-external"
                          name="external"
                        /><svg
                          width="32"
                          height="32"
                          viewBox="0 0 32 32"
                          aria-hidden="true"
                        >
                          <rect
                            class="tsd-checkbox-background"
                            width="30"
                            height="30"
                            x="1"
                            y="1"
                            rx="6"
                            fill="none"
                          ></rect>
                          <path
                            class="tsd-checkbox-checkmark"
                            d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25"
                            stroke="none"
                            stroke-width="3.5"
                            stroke-linejoin="round"
                            fill="none"
                          ></path></svg
                        ><span>External</span></label
                      >
                    </li>
                  </ul>
                </div>
                <div class="tsd-theme-toggle">
                  <label class="settings-label" for="tsd-theme">Theme</label
                  ><select id="tsd-theme">
                    <option value="os">OS</option>
                    <option value="light">Light</option>
                    <option value="dark">Dark</option>
                  </select>
                </div>
              </div>
            </details>
          </div>
          <details open class="tsd-accordion tsd-page-navigation">
            <summary class="tsd-accordion-summary">
              <h3>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <use href="assets/icons.svg#icon-chevronDown"></use></svg
                >On This Page
              </h3>
            </summary>
            <div class="tsd-accordion-details">
              <a href="#md:react-native-whip-whep"
                ><span>react-<wbr />native-<wbr />whip-<wbr />whep</span></a
              >
              <ul>
                <li>
                  <a href="#md:setup"><span>Setup</span></a>
                </li>
                <li>
                  <ul>
                    <li>
                      <a href="#md:android"><span>Android</span></a>
                    </li>
                    <li>
                      <a href="#md:ios"><span>iOS</span></a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a href="#md:usage"><span>Usage</span></a>
                </li>
                <li>
                  <a href="#md:examples"><span>Examples</span></a>
                </li>
                <li>
                  <a href="#md:license"><span>License</span></a>
                </li>
                <li>
                  <a
                    href="#md:react-native-whip-whep-is-created-by-software-mansion"
                    ><span
                      >React <wbr />Native <wbr />Whip <wbr />Whep is created by
                      <wbr />Software <wbr />Mansion</span
                    ></a
                  >
                </li>
              </ul>
            </div>
          </details>
        </div>
        <div class="site-menu">
          <nav class="tsd-navigation">
            <a href="modules.html" class="current"
              ><svg class="tsd-kind-icon" viewBox="0 0 24 24">
                <use href="assets/icons.svg#icon-1"></use></svg
              ><span>react-native-whip-whep</span></a
            >
            <ul
              class="tsd-small-nested-navigation"
              id="tsd-nav-container"
              data-base="."
            >
              <li>Loading...</li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
    <footer>
      <p class="tsd-generator">
        Generated using
        <a href="https://typedoc.org/" target="_blank">TypeDoc</a>
      </p>
    </footer>
    <div class="overlay"></div>
  </body>
</html>
